function updateBookmarkCount(){function o(n){n.forEach((function(n){n.url&&(e+=1),n.children&&o(n.children)}))}var e=0;chrome.bookmarks.getTree((function(n){o(n),console.log("BookmarkCount = "+e),chrome.action.setBadgeBackgroundColor({color:"#111111"}),chrome.action.setBadgeText({text:e.toString()})}))}function onInstall(){console.log("Extension Installed")}function onUpdate(){console.log("Extension Updated")}function getVersion(){var o;return chrome.app.getDetails().version}updateBookmarkCount(),chrome.bookmarks.onCreated.addListener((function(){updateBookmarkCount()})),chrome.bookmarks.onRemoved.addListener((function(){updateBookmarkCount()}));var currVersion=getVersion(),prevVersion=chrome.storage.get("yurl_version");currVersion!=prevVersion&&(void 0===prevVersion?onInstall():onUpdate(),chrome.storage.sync.set({yurl_version:currVersion}));